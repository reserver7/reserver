<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>연습</title>
<script src="../ajax/jquery.js"></script>
</head>
<style>
    *{box-sizing: border-box; margin: 0; padding: 0; }
    label,span{ display: block;}
    .spancss{ width: 1000px; height: 150px; border: 1px solid black; display: flex; flex-wrap: wrap;
        justify-content: center; align-items: center; align-content: center; 
    }
    .imgbox{ 
        width: 300px; height: 130px; float: left;
    }
    .imgbox > img { width: 300px; height: 130px; object-fit: cover; }
    .newstext { width: 550px; height: auto; float: left; margin-left: 30px; }
    .newstext > ul { 
        list-style: none; width: 550px; height: 130px; 
    }
    .newstext > ul > li { 
        width: 550px; height: 30px; border: 1px solid #ccc;
        margin-top: 2px; text-indent:5px; position: relative;
        letter-spacing: 0.5px; line-height: 30px;
    }
    .ntext1{ 
        width: 100%; height: 30px; position: absolute;
        font-size: 13px; overflow: hidden;
    }
    .ntext1::after{
        content: attr(data-content); /* after,before 에서만 쓸수 있음 jquery */
        float: right; margin-right: 50px; letter-spacing: -1px;
    }
    .ntext2 { 
        right: 0; width: 30px; height: 30px; position: absolute;
        padding-top: 1px;
    }
    .ntext2::before{
        background-image: url("../ajax/camera.svg");
        background-size: 80%; background-repeat: no-repeat;
        display: inline-block; width: 30px; height: 30px;
        background-position: center;
        content: "";
    }
    /*.newstext > ul > li::before{content:url('./camera.svg'); width: 30px; height: 30px;}
     IE before: content 이미지 사용시 주의: 적용X, 이미지, 텍스트 파트 나눠서 사용하는것이 좋음 */
</style>
</head>
<body>
<span class="spancss">
    <div class="imgbox">
        <img src="../ajax/newsimg.jpg">
    </div>
    <div class="newstext" >
        <ul id="newstext">
            <!--
            <li>
                <label class="ntext1"></label>
                <label class="ntext2"></label>
            </li>
            <li>
                <label class="ntext1"></label>
                <label class="ntext2"></label>
            </li>
            <li>
                <label class="ntext1"></label>
                <label class="ntext2"></label>
            </li>
            <li>
                <label class="ntext1"></label>
                <label class="ntext2"></label>
            </li>
            -->
        </ul>
    </div>
</span>
</body>
<script>
    $(function(){
        $.ajax({
            url:"../ajax/news.json",
            cache:false,
            type:"GET",
            dataType:"json",
            success:function($result){
                $.fn.ck($result);
            },
            error:function(){
                console.log("데이터 오류");
            }
        })
        $.fn.ck = function($result){
            let $html = "";
            $($result).each(function($no,$nm){
                console.log($nm);
                $html = '<li>\
                <label class="ntext1">'+$nm[0]+'</label>\
                <label class="ntext2"></label></li>';
                $("#newstext").append($html);
                $("#newstext>li:eq("+$no+")>label").eq(0).attr("data","["+$nm[1]+"]");
            });
        }
    });
</script>
</html>