<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-compatible" content="IE=Edge, chrome=1">
<title>HTML + Javascript(function 및 지역,전역변수 응용)</title>
<script>
    var a = "체크완료 되었습니다."; //전역
    var aa; //전역
    var aaa = 0;    //전역변수 숫자 (인증번호 부분)
    function abc(){
        var b = "홍길동님";        //지역
        var c = b + a;  //지역변수 + 전역변수
        alert(c);
    }
    function bbb(){
        /*
        var b = 20; //지역
        aa = 40;    //전역변수 값을 이관함
        var c = b * aa; //지역변수 + 전역변수
        alert(c);
        */
        var tels = document.getElementById("tel").value;
        if(tels==""){
            alert("연락처를 입력하셔야 합니다.");
        }
        else{   //연락처가 등록 되었을때 인증번호를 보냄
            var free = Math.floor(Math.random()*99999); //5자리 랜덤숫자
            aaa = free; //지역변수에서 전역변수로 값을 넘김
            alert(aaa); //가상으로 SMS 인증번호 확인

            /* display block로 변경 */
            document.getElementById("check").style.display="block";
            document.getElementById("checkbtn").style.display="block";
        }
    }
    function ccc(){
        /*
        var b = 386;
        aaa = "접수 번호가 등록 되었습니다.";
        var c = b + aaa;
        alert(c);
        */
        var nums = document.getElementById("check").value;
        if(nums==""){   //사용자가 아무것도 입력하지 않을 경우
            alert("발송된 인증 번호 5자리를 입력하세요.");
        }
        else{   //사용자가 한글자라도 입력을 하였을 경우
            if(aaa==nums){  //전역변수와 지역변수(사용자가 입력한 값) 비교 맞을 경우
                alert("인증이 학인 되었습니다.");
            }
            else{ //전역변수와 지역변수(사용자가 입력한 값) 비교 다를 경우
                alert("인증번호가 다릅니다.");
            }
        }
    }
</script>
</head>
<body>
<!--
<input type="button" value="결과확인" onclick="abc();"><br><br>
-->
<input type="text" id="tel">
<input type="button" value="인증번호 발송" onclick="bbb();">
<br>
<input type="text" id="check" style="display: none;">
<input type="button" id="checkbtn" value="인증확인" onclick="ccc();" style="display: none;">
</body>
</html>