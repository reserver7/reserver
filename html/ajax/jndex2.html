<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-compatible" content="IE=Edge, Chrome1=1">
<title>Jquery-Ajax (1일차)</title>
<script src="./jquery.js"></script>
<script>
    $(function(){
        var $html;

        $.ajax({
            url:"news.json",
            cache:false,
            type:"GET",
            dataType:"json",    //json 파일 외에 txt 파일 일때는 JSON.parse()해야함
            success:function($node,$sign){
                //console.log("ok");
                //console.log($node[0]);
                //$($node).each(function($index,$object){}) 밑에랑 같은 뜻
                $.each($node,function($index,$object){//key가 없을때 $.each 바로
                    //console.log($object);
                    $html = '<li>\
                    <label class="ntext1">'+$object[0]+'</label>\
                    <label class="ntext2"></label>\
                    </li>';
                    $("#newstext").append($html);
                    $("#newstext>li:eq("+$index+")>label").eq(0).attr("data-content"," ["+$object[1]+"]");
                    //$(".ntext1").eq($index).attr("data-content"," ["+$object[1]+"]"); 위에랑 같은 형태
                });
            },
            error:function(){
                console.log("데이터 접근이 제한 됩니다.");
            }
        });   
    });
</script>
<style>
    *{box-sizing: border-box; margin: 0; padding: 0; }
    label,span{ display: block;}
    .spancss{ width: 1000px; height: 150px; border: 1px solid black; display: flex; flex-wrap: wrap;
        justify-content: center; align-items: center; align-content: center; 
    }
    .imgbox{ 
        width: 300px; height: 130px; float: left;
    }
    .imgbox > img { width: 300px; height: 130px; object-fit: cover; }
    .newstext { width: 550px; height: auto; float: left; margin-left: 30px; }
    .newstext > ul { 
        list-style: none; width: 550px; height: 130px; 
    }
    .newstext > ul > li { 
        width: 550px; height: 30px; border: 1px solid #ccc;
        margin-top: 2px; text-indent:5px; position: relative;
        letter-spacing: 0.5px; line-height: 30px;
    }
    .ntext1{ 
        width: 100%; height: 30px; position: absolute;
        font-size: 13px; overflow: hidden;
    }
    .ntext1::after{
        content: attr(data-content); /* after,before 에서만 쓸수 있음 jquery */
        float: right; margin-right: 50px; letter-spacing: -1px;
    }
    .ntext2 { 
        right: 0; width: 30px; height: 30px; position: absolute;
        padding-top: 1px;
    }
    .ntext2::before{
        background-image: url("./camera.svg");
        background-size: 80%; background-repeat: no-repeat;
        display: inline-block; width: 30px; height: 30px;
        background-position: center;
        content: "";
    }
    /*.newstext > ul > li::before{content:url('./camera.svg'); width: 30px; height: 30px;}
     IE before: content 이미지 사용시 주의: 적용X, 이미지, 텍스트 파트 나눠서 사용하는것이 좋음 */
</style>
</head>
<body>
<span class="spancss">
    <div class="imgbox">
        <img src="./newsimg.jpg">
    </div>
    <div class="newstext" >
        <ul id="newstext">
            <!--
            <li>
                <label class="ntext1"></label>
                <label class="ntext2"></label>
            </li>
            <li>
                <label class="ntext1"></label>
                <label class="ntext2"></label>
            </li>
            <li>
                <label class="ntext1"></label>
                <label class="ntext2"></label>
            </li>
            <li>
                <label class="ntext1"></label>
                <label class="ntext2"></label>
            </li>
            -->
        </ul>
    </div>
</span>
</body>
</html>