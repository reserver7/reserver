<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-compatible" content="IE=Edge, chrome=1">
<title>step page 제작(2)</title>
<script>
/*
    문제10
    page 1. 패스워드를 재입력하는 페이지 입니다.
    패스워드 재 입력시 기본정보를 확인 하게 됩니다.
    정보보안체크는 필수 사항이며, 미체크시 get 해당 url로 보낼수 없습니다.
    snumber1,snumber2 모두 숫자만 입력이 되어야 하며
    snumber1 : 6자리 숫자 모두 입력 되어야 합니다.
    snumber2 : 7자리 숫자 모두 입력 되어야 합니다.
    대표자명에는 대표자 이름이 입력 되어야 합니다.

    필수데이터: 134327 - 3400678 대표자명 : hong

    page 2 . 파라미터값으로 넘오온 값을 이용하여
    사업자 번호를 확인 하게 됩니다.
    총 사업자번호 13자리 모두 확인하며,
    사업자번호가 13자기가 안될 경우 이전 페이지로 이동 합니다.
    경고메세지 "올바른 값이 아닙니다." 라고 출력
    대표자명 또한 확인이 되지 않을 경우 동일 또한 메세지를 출력 합니다.
    패스워드 입력시 동일한 패스워드여야 하며, 동일한 패스워드 미입력시
    경고메세지로 "동일한 패스워드를 입력하세요." 라고 출력
    최종 POST : http://reduck.dothome.co.kr/book/check.php

    파라미터 값을 가져와야 합니다.
    http://url/java35.html?snumber1=134327&snumber2=3400678&sname=hong

    location.search:
    substr
*/

    function aaa(){
        var pwck1 = f.pw1.value;
        var pwck2 = f.pw2.value;
        if(pwck1!=pwck2){
            alert("동일한 패스워드를 입력하세요.");
        }
        else if(pwck1=="" || pwck2==""){
            alert("변경할 패스워드를 입력하세요.");
        }
        else{
            f.method="POST";
            f.action="http://reduck.dothome.co.kr/book/check.php";
            f.submit();
        }
    } 
</script>
</head>
<body>
<form name="f" id="f">
<input type="hidden" name="sa" id="sa" value="">
<input type="hidden" name="ceonm" id="ceonm" value="">
<input type="password" name="pw1" id="pw1" placeholder="변경할 패스워드를 입력하세요">
<input type="password" name="pw2" id="pw2" placeholder="동일한 패스워드를 입력하세요">
<input type="button" value="패스워드 변경" onclick="aaa();">
</form>
<script>
    var data = location.search;
    var a = data.split("snumber1=");
    var b = data.split("snumber2=");
    var c = data.split("sname=");
    var a1 = a[1].substr(0,6);  //사업자 앞자리 6자
    var b1 = b[1].substr(0,7);  //사업자 뒷자리 7자
    var c1 = c[1].substr(0,50);
    var a1b1 = a1 + b1;
     f.sa.value = a1b1;
     f.ceonm.value = c1;
    if(f.sa.value.length<13){
        alert("올바른 값이 아닙니다.");
        history.go(-1);
    }
    else if(f.ceonm.value!="hong"){
        alert("올바른 값이 아닙니다.");
        history.go(-1);
    }
    
</script>
</body>
</html>
<!--
    [문제사항]
    1. 입력사항을 검토 (자릿수) - if
    2. 대표자명 if
    3. method, action, submit();
    4. get url data (파라미터) - 가공
    5. location.search
        http://abc.co.kr/index2.html?user=kim
    6. 가공 형태 split, substr
    7. input type="hidden"

    
-->